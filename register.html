<!DOCTYPE html>

<head>
  <title> Register Page </title>
  
  <link rel="stylesheet" href="style.css" />
  <script type="text/javascript" src="scripts/utils.js"></script>
  <script type="text/javascript" src="scripts/components.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body onload="return initSession()">
   <header>
        <div class="logo">
            <IMG class="logo1" SRC="assets\logo\logo1.png" ALT="some text">
            <IMG class="logo2" SRC="assets\logo\logo2.png" ALT="some text">
        </div>
   </header>
    <hr class="hr-14">
    <div class="container12" style="margin-top:100px; margin-bottom: 100px;">
      <div class="user signinBx">
        <div class="imgBx"><img src="assets\2921100196.png" alt="" /></div>
        <div class="formBx">
          
          <form method="POST" action="todo.html" onsubmit= "return inputRegister()">
            <h2 style="color:#0B5F58;">Register</h2>
            <input type="text" id="registerUsername" placeholder="Enter Username" required />
            <input type="email" id="registerMail" placeholder="Enter E-mail" required />
            <input type="password" id="registerPassword" placeholder="Enter Password" onkeyup="passwordValidation()" required />
            <input type="password" id="checkPassword" placeholder="Enter Password Again" onkeyup="passwordValidation()" required/>
            
            <span id='message'></span>
            <input type="date" id="registerBirthday" placeholder="Enter Birthday" required/>
            <label style="margin-right: 20px; margin-left: 5px;" for="GenderMale">Male</label>
            <input style="width:10px;" type="radio" id="GenderMale" name="registerGender" value="Male" required><br>

            <label style="margin-right: 8px; margin-left: 5px;"  for="GenderFemale">Female</label>
            <input style="width:10px;" type="radio" id="GenderFemale" name="registerGender" value="Female"><br>
            <input type="submit" id="registerButton" value="Register" />
          </form>
        </div>
      </div>
    </div>

<script>
                function inputRegister() {
                var username = document.getElementById("registerUsername").value
                var password = document.getElementById("registerPassword").value
                var checkpassword = document.getElementById("checkPassword").value
                var email = document.getElementById("registerMail").value
                var birthday = document.getElementById("registerBirthday").value
                var gender = document.getElementsByName('registerGender')
                for(i = 0; i < gender.length; i++) { 
                    if(gender[i].checked) 
                     gender = gender[i].value
                }
               var registerBool = register(username,password,email,birthday,gender) 
                if(password == checkpassword) {
                    if(registerBool){
                        login(username,password)
                        return true
                 }
                    else
						alert("That user already exists.")
                        return false 
                }
                else {
                    alert("Passwords don't match")
                    return false
                }

            }

            function passwordValidation() {               
                if (document.getElementById('registerPassword').value != document.getElementById('checkPassword').value) {
                    document.getElementById('message').style.color = 'red';
                    document.getElementById('message').innerHTML = 'Your passwords do not match'; 
}
                else
                    document.getElementById('message').innerHTML = "";
}
            
            
                
                   

            
            </script>

<div class="footer">
        <div class="InnerSection">
            <!-- Add Logo -->
            <h2>TODO</h2>
<p>This to-do list project was prepared for the Web Application Development course in 2020.</p>
        </div>
        <div class="Credits">
            Prepared by OZU students.
        </div>
    </div>

</body>

</html>